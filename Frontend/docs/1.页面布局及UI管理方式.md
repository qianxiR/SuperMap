# é¡µé¢å¸ƒå±€åŠUIç®¡ç†æ–¹å¼

## ğŸ—ï¸ æ•´ä½“å¸ƒå±€æ¶æ„è®¾è®¡

### **å¸ƒå±€å±‚çº§ç»“æ„**
```
åº”ç”¨æ ¹å¸ƒå±€ (App.vue)
    â†“
é¡µé¢çº§å¸ƒå±€ (Dashboard.vue)
    â†“
ä»ªè¡¨æ¿å¸ƒå±€ (DashboardLayout.vue)
    â†“
åˆ†å‰²é¢æ¿å¸ƒå±€ (splitpanes)
    â”œâ”€â”€ å·¦ä¾§åœ°å›¾åŒºåŸŸ (60%å®½åº¦)
    â”‚   â””â”€â”€ åœ°å›¾å®¹å™¨ (SuperMapViewer)
    â””â”€â”€ å³ä¾§åŠŸèƒ½é¢æ¿ (30%å®½åº¦)
        â””â”€â”€ åŠŸèƒ½é¢æ¿å®¹å™¨ (RightPanel)
```

## ğŸ”§ æ ¸å¿ƒå¸ƒå±€ç»„ä»¶å±‚çº§

### **ç¬¬ä¸€å±‚ï¼šåº”ç”¨æ ¹å¸ƒå±€ (App.vue)**
- **ä½ç½®**: `src/App.vue`
- **åŠŸèƒ½**: å…¨å±€æ ·å¼ã€ä¸»é¢˜ç®¡ç†ã€é€šçŸ¥ç®¡ç†å™¨
- **åŒ…å«ç»„ä»¶**:
  - å…¨å±€æ ·å¼ (`theme.css`)
  - é€šçŸ¥ç®¡ç†å™¨ (`NotificationManager`)
  - è·¯ç”±è§†å›¾ (`router-view`)

### **ç¬¬äºŒå±‚ï¼šé¡µé¢çº§å¸ƒå±€ (Dashboard.vue)**
- **ä½ç½®**: `src/views/Dashboard.vue`
- **åŠŸèƒ½**: é¡µé¢å…¥å£ï¼Œæ¸²æŸ“ä»ªè¡¨æ¿å¸ƒå±€
- **åŒ…å«ç»„ä»¶**:
  - `DashboardLayout.vue`

### **ç¬¬ä¸‰å±‚ï¼šä»ªè¡¨æ¿å¸ƒå±€ (DashboardLayout.vue)**
- **ä½ç½®**: `src/components/Layout/DashboardLayout.vue`
- **åŠŸèƒ½**: ä¸»å¸ƒå±€å®¹å™¨ï¼Œç®¡ç†å¤´éƒ¨å’Œä¸»å†…å®¹åŒºåŸŸ
- **å¸ƒå±€ç»“æ„**:
  ```
  DashboardLayout
  â”œâ”€â”€ DashboardHeader (é¡¶éƒ¨å¯¼èˆªæ )
  â””â”€â”€ ä¸»å†…å®¹åŒºåŸŸ (splitpanes)
      â”œâ”€â”€ å·¦ä¾§åœ°å›¾åŒºåŸŸ (60%)
      â””â”€â”€ å³ä¾§åŠŸèƒ½é¢æ¿ (30%)
  ```
- **åŒ…å«ç»„ä»¶**:
  - `DashboardHeader.vue` â†’ é¡¶éƒ¨å¯¼èˆªæ 
  - `SuperMapViewer.vue` â†’ åœ°å›¾å®¹å™¨ (å·²ç§»åŠ¨åˆ° `src/views/dashboard/`)
  - `RightPanel.vue` â†’ å³ä¾§åŠŸèƒ½é¢æ¿å®¹å™¨ (å·²ç§»åŠ¨åˆ° `src/views/dashboard/`)
  - `UserProfile.vue` â†’ ä¸ªäººä¸­å¿ƒæ¨¡æ€æ¡†
  - `AIManagement.vue` â†’ AIç®¡ç†æ¨¡æ€æ¡†

## ğŸ—ºï¸ åœ°å›¾åŒºåŸŸç»„ä»¶å±‚çº§

### **ç¬¬å››å±‚ï¼šåœ°å›¾å®¹å™¨ (SuperMapViewer.vue)**
- **ä½ç½®**: `src/views/dashboard/SuperMapViewer.vue`
- **åŠŸèƒ½**: åœ°å›¾æ˜¾ç¤ºæ ¸å¿ƒå®¹å™¨
- **å¸ƒå±€ç»“æ„**:
  ```
  SuperMapViewer
  â”œâ”€â”€ åœ°å›¾è§†å›¾å®¹å™¨ (map-view)
  â”œâ”€â”€ layerAssistant (å·¦ä¸Šè§’å›¾å±‚è¾…åŠ©)
  â”œâ”€â”€ FeaturePopup (è¦ç´ å¼¹çª—)
  â”œâ”€â”€ CoordinateDisplay (å·¦ä¸‹è§’åæ ‡æ˜¾ç¤º)
  â”œâ”€â”€ ScaleBar (å³ä¸‹è§’æ¯”ä¾‹å°º)
  â”œâ”€â”€ OverviewMap (å³ä¸‹è§’é¹°çœ¼)
  â”œâ”€â”€ DistanceMeasurePanel (è·ç¦»é‡ç®—)
  â””â”€â”€ AreaMeasurePanel (é¢ç§¯é‡ç®—)
  ```
- **åŒ…å«ç»„ä»¶**:
  - `layerAssistant.vue` â†’ å›¾å±‚è¾…åŠ©æ§ä»¶
  - `FeaturePopup.vue` â†’ è¦ç´ å¼¹çª—
  - `CoordinateDisplay.vue` â†’ åæ ‡æ˜¾ç¤º
  - `ScaleBar.vue` â†’ æ¯”ä¾‹å°º
  - `OverviewMap.vue` â†’ é¹°çœ¼åœ°å›¾
  - `DistanceMeasurePanel.vue` â†’ è·ç¦»é‡ç®—é¢æ¿
  - `AreaMeasurePanel.vue` â†’ é¢ç§¯é‡ç®—é¢æ¿

### **ç¬¬äº”å±‚ï¼šåœ°å›¾å·¥å…·ç»„ä»¶ (Map Tools)**
- **ä½ç½®**: `src/components/Map/`
- **åŠŸèƒ½åˆ†ç±»**:
  - **æ˜¾ç¤ºæ§ä»¶**: `CoordinateDisplay.vue`, `ScaleBar.vue`, `OverviewMap.vue`
  - **äº¤äº’å·¥å…·**: `FeaturePopup.vue`, `layerAssistant.vue`
  - **æµ‹é‡å·¥å…·**: `DistanceMeasurePanel.vue`, `AreaMeasurePanel.vue`

## ğŸ›ï¸ åŠŸèƒ½é¢æ¿ç»„ä»¶å±‚çº§

### **ç¬¬å››å±‚ï¼šå³ä¾§é¢æ¿å®¹å™¨ (RightPanel.vue)**
- **ä½ç½®**: `src/views/dashboard/RightPanel.vue`
- **åŠŸèƒ½**: é€šè¿‡ `router-view` æ¸²æŸ“å…·ä½“åŠŸèƒ½é¢æ¿
- **ç‰¹ç‚¹**: ä½¿ç”¨ `PanelWindow` ç»„ä»¶åŒ…è£…

### **ç¬¬äº”å±‚ï¼šåŠŸèƒ½é¢æ¿åŒ…è£…å™¨ (PanelWindow.vue)**
- **ä½ç½®**: `src/components/UI/PanelWindow.vue`
- **åŠŸèƒ½**: ç»Ÿä¸€çš„é¢æ¿çª—å£ç»„ä»¶ï¼Œæä¾›æ ‡é¢˜æ ã€å…³é—­æŒ‰é’®ã€æ‹–æ‹½ç­‰åŠŸèƒ½
- **ç‰¹æ€§**:
  - å¯è°ƒæ•´å¤§å° (`resizable`)
  - å¯æ‹–æ‹½å®šä½ (`position`)
  - åŠ¨ç”»æ•ˆæœ (`animated`)
  - ç„¦ç‚¹ç®¡ç† (`focusable`)
  - åµŒå…¥æ¨¡å¼ (`embed`)

### **ç¬¬å…­å±‚ï¼šå…·ä½“åŠŸèƒ½é¢æ¿ç»„ä»¶**
- **LLMæ¨¡å¼é¢æ¿**:
  - `LLMMode.vue` â†’ ä¸»AIåŠ©æ‰‹ç•Œé¢
  - `ChatHistory.vue` â†’ èŠå¤©å†å²è®°å½•
  - `ChatAssistant.vue` â†’ AIå¯¹è¯å·¥å…·

- **ä¼ ç»Ÿæ¨¡å¼é¢æ¿**:
  - `layermanager.vue` â†’ å›¾å±‚ç®¡ç†
  - `FeatureQueryPanel.vue` â†’ è¦ç´ æŸ¥è¯¢
  - `EditTools.vue` â†’ å›¾å±‚ç¼–è¾‘
  - `BufferAnalysisPanel.vue` â†’ ç¼“å†²åŒºåˆ†æ
  - `DistanceAnalysisPanel.vue` â†’ è·ç¦»åˆ†æ
  - `intersectAnalysisPanel.vue` â†’ å ç½®åˆ†æ

## ğŸ¨ UIç»„ä»¶åº“å±‚çº§

### **ç¬¬ä¸ƒå±‚ï¼šåŸºç¡€UIç»„ä»¶ (UI Components)**
- **ä½ç½®**: `src/components/UI/`
- **åŠŸèƒ½åˆ†ç±»**:

#### **æŒ‰é’®ç»„ä»¶**
- `PrimaryButton.vue` â†’ ä¸»è¦æŒ‰é’®
- `SecondaryButton.vue` â†’ æ¬¡è¦æŒ‰é’®
- `IconButton.vue` â†’ å›¾æ ‡æŒ‰é’®
- `ButtonGroup.vue` â†’ æŒ‰é’®ç»„

#### **è¾“å…¥ç»„ä»¶**
- `TraditionalInputGroup.vue` â†’ ä¼ ç»Ÿè¾“å…¥ç»„
- `LLMInputGroup.vue` â†’ LLMè¾“å…¥ç»„
- `QueryConditionRow.vue` â†’ æŸ¥è¯¢æ¡ä»¶è¡Œ
- `DropdownSelect.vue` â†’ ä¸‹æ‹‰é€‰æ‹©å™¨

#### **é¢æ¿ç»„ä»¶**
- `PanelContainer.vue` â†’ é¢æ¿å®¹å™¨
- `PanelWindow.vue` â†’ é¢æ¿çª—å£
- `SplitPanel.vue` â†’ åˆ†å‰²é¢æ¿

#### **å¯¹è¯æ¡†ç»„ä»¶**
- `EditModal.vue` â†’ ç¼–è¾‘æ¨¡æ€æ¡†
- `ConfirmDialog.vue` â†’ ç¡®è®¤å¯¹è¯æ¡†
- `TipWindow.vue` â†’ æç¤ºçª—å£

#### **é€šçŸ¥ç»„ä»¶**
- `NotificationToast.vue` â†’ é€šçŸ¥æç¤º
- `NotificationManager.vue` â†’ é€šçŸ¥ç®¡ç†å™¨

#### **å®¹å™¨ç»„ä»¶**
- `AutoScrollContainer.vue` â†’ è‡ªåŠ¨æ»šåŠ¨å®¹å™¨

## ğŸ“± å“åº”å¼å¸ƒå±€è®¾è®¡

### **åˆ†å‰²é¢æ¿å¸ƒå±€ (splitpanes)**
- **ä¸»åˆ†å‰²å™¨**: åœ°å›¾åŒºåŸŸ (60%) + åŠŸèƒ½é¢æ¿ (30%)
- **æœ€å°å°ºå¯¸é™åˆ¶**: åœ°å›¾åŒºåŸŸæœ€å°50%ï¼ŒåŠŸèƒ½é¢æ¿æœ€å°30%
- **æ‹–æ‹½è°ƒæ•´**: ç”¨æˆ·å¯æ‹–æ‹½åˆ†å‰²çº¿è°ƒæ•´é¢æ¿å¤§å°
- **å“åº”å¼**: æ ¹æ®å±å¹•å°ºå¯¸è‡ªåŠ¨è°ƒæ•´å¸ƒå±€

### **ç§»åŠ¨ç«¯é€‚é…**
- **å°å±å¹•**: ä¸Šä¸‹å †å å¸ƒå±€
- **è§¦æ‘¸ä¼˜åŒ–**: è§¦æ‘¸å‹å¥½çš„æ‹–æ‹½æ“ä½œ
- **é¢æ¿æŠ˜å **: åŠŸèƒ½é¢æ¿å¯æŠ˜å ä¸ºå›¾æ ‡

## ğŸ¯ ç»„ä»¶äº¤äº’å±‚çº§

### **çŠ¶æ€ç®¡ç†å±‚çº§**
```
ç»„ä»¶çŠ¶æ€ â†’ ç»„ä»¶å†…çŠ¶æ€ (ref/reactive)
    â†“
ç»„åˆå¼å‡½æ•° â†’ useXXX composables
    â†“
Pinia Store â†’ å…¨å±€çŠ¶æ€ç®¡ç†
    â†“
è·¯ç”±çŠ¶æ€ â†’ Vue Router
```

### **äº‹ä»¶ä¼ é€’å±‚çº§**
```
å­ç»„ä»¶ â†’ emitäº‹ä»¶
    â†“
çˆ¶ç»„ä»¶ â†’ ç›‘å¬äº‹ä»¶
    â†“
å…¨å±€äº‹ä»¶ â†’ CustomEvent
    â†“
çŠ¶æ€æ›´æ–° â†’ Storeæ›´æ–°
```

## ğŸ”„ åŠ¨æ€æ¸²æŸ“æµç¨‹

### **åŠŸèƒ½é¢æ¿æ¸²æŸ“æµç¨‹**
```
è·¯ç”±å˜åŒ– â†’ router-viewæ›´æ–°
    â†“
RightPanelæ¥æ”¶æ–°è·¯ç”±
    â†“
PanelWindowåŒ…è£…åŠŸèƒ½ç»„ä»¶
    â†“
å…·ä½“åŠŸèƒ½é¢æ¿æ¸²æŸ“
    â†“
åœ°å›¾äº¤äº’å“åº”
```

### **åœ°å›¾ç»„ä»¶æ›´æ–°æµç¨‹**
```
åœ°å›¾çŠ¶æ€å˜åŒ– â†’ MapStoreæ›´æ–°
    â†“
åœ°å›¾å®ä¾‹æ›´æ–° â†’ Openlayersæ›´æ–°
    â†“
åœ°å›¾æ§ä»¶æ›´æ–° â†’ å­ç»„ä»¶æ›´æ–°
    â†“
ç”¨æˆ·ç•Œé¢å“åº” â†’ äº¤äº’åé¦ˆ
```

## ğŸ“‹ ç»„ä»¶ä¾èµ–å…³ç³»è¡¨

| ç»„ä»¶å±‚çº§ | ç»„ä»¶åç§° | ä¾èµ–ç»„ä»¶ | åŠŸèƒ½æè¿° |
|---------|---------|----------|----------|
| ç¬¬1å±‚ | App.vue | - | åº”ç”¨æ ¹ç»„ä»¶ |
| ç¬¬2å±‚ | Dashboard.vue | DashboardLayout | é¡µé¢å…¥å£ |
| ç¬¬3å±‚ | DashboardLayout.vue | DashboardHeader, SuperMapViewer, RightPanel | ä¸»å¸ƒå±€å®¹å™¨ |
| ç¬¬4å±‚ | SuperMapViewer.vue | layerAssistant, FeaturePopup, CoordinateDisplay, ScaleBar, OverviewMap, DistanceMeasurePanel, AreaMeasurePanel | åœ°å›¾å®¹å™¨ (å·²ç§»åŠ¨åˆ°views/dashboard) |
| ç¬¬4å±‚ | RightPanel.vue | router-view | åŠŸèƒ½é¢æ¿å®¹å™¨ (å·²ç§»åŠ¨åˆ°views/dashboard) |
| ç¬¬5å±‚ | PanelWindow.vue | - | é¢æ¿çª—å£åŒ…è£…å™¨ |
| ç¬¬6å±‚ | åŠŸèƒ½é¢æ¿ç»„ä»¶ | PanelWindow | å…·ä½“åŠŸèƒ½å®ç° |
| ç¬¬7å±‚ | UIç»„ä»¶ | - | åŸºç¡€UIç»„ä»¶åº“ |

## ğŸ¨ ä¸»é¢˜ç³»ç»Ÿé›†æˆ

### **CSSå˜é‡å±‚çº§**
```
:root â†’ å…¨å±€ä¸»é¢˜å˜é‡
    â†“
ç»„ä»¶çº§å˜é‡ â†’ ç»„ä»¶ç‰¹å®šæ ·å¼
    â†“
åŠ¨æ€ä¸»é¢˜ â†’ æ˜æš—ä¸»é¢˜åˆ‡æ¢
    â†“
å“åº”å¼ä¸»é¢˜ â†’ åª’ä½“æŸ¥è¯¢é€‚é…
```

### **ä¸»é¢˜åˆ‡æ¢æœºåˆ¶**
```
ä¸»é¢˜çŠ¶æ€å˜åŒ– â†’ ThemeStoreæ›´æ–°
    â†“
CSSå˜é‡æ›´æ–° â†’ document.documentElement
    â†“
ç»„ä»¶æ ·å¼å“åº” â†’ CSSå˜é‡å¼•ç”¨
    â†“
ç•Œé¢ä¸»é¢˜åˆ‡æ¢ â†’ è§†è§‰åé¦ˆ
```

è¿™ç§åˆ†å±‚æ¶æ„è®¾è®¡å®ç°äº†ï¼š
1. **æ¸…æ™°çš„ç»„ä»¶èŒè´£åˆ†ç¦»**
2. **å¯å¤ç”¨çš„UIç»„ä»¶åº“**
3. **å“åº”å¼çš„å¸ƒå±€ç³»ç»Ÿ**
4. **ç»Ÿä¸€çš„çŠ¶æ€ç®¡ç†**
5. **çµæ´»çš„ä¸»é¢˜ç³»ç»Ÿ**
6. **è‰¯å¥½çš„å¯ç»´æŠ¤æ€§å’Œå¯æ‰©å±•æ€§**
